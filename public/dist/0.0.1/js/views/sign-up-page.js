import{a as c}from"../chunk-PBMLQVPD.js";import{d as r,j as n,k as s,l as m}from"../chunk-PSRONZ2A.js";import{a}from"../chunk-YJ2DKIZS.js";var o=class{node=null;titleElem=null;emailInputElem=null;nameInputElem=null;nameLabelElem=null;passwordInputElem=null;passwordLabelElem=null;photoInputElem=null;photoLabelElem=null;signInBtn=null;signUpBtn=null;cancelBtn=null;authService=null;signInBtnClickHandler;cancelBtnClickHandler;formSubmitHandler;static get instance(){return o.page||(o.page=new o),o.page}constructor(){this.formSubmitHandler=e=>{e.preventDefault();let l=this.node?.querySelector(".main-card form"),i=new FormData(l);console.log("Form submited: "),i.forEach((t,p)=>{console.log(p+":",t)})},this.signInBtnClickHandler=e=>s(e,this.signInBtn),this.cancelBtnClickHandler=e=>s(e,this.cancelBtn)}get elem(){return this.node}async init(e,l){let i=await m(e,l,[]);this.node=i.querySelector('[data-page="signup-page"]')||null;let t=this.node?.querySelector(".main-card form");return this.titleElem=this.node?.querySelector('[data-title="main"]')||null,this.emailInputElem=t?.querySelector("#email")||null,this.nameInputElem=t?.querySelector("#name")||null,this.nameLabelElem=t?.querySelector("#name-label")||null,this.passwordInputElem=t?.querySelector("#password")||null,this.passwordLabelElem=t?.querySelector("#password-label")||null,this.photoInputElem=t?.querySelector("#photo")||null,this.photoLabelElem=t?.querySelector("#photo-label")||null,this.signInBtn=t?.querySelector('[data-button="sign-in"]')||null,this.signUpBtn=t?.querySelector('[data-button="sign-up"]')||null,this.cancelBtn=t?.querySelector('[data-button="cancel"]')||null,this.authService=new c,await this.authService.init(this,l),i}async mount(){this.node?.querySelector(".main-card form")?.addEventListener("submit",this.formSubmitHandler),this.signInBtn?.addEventListener("click",this.signInBtnClickHandler),this.cancelBtn?.addEventListener("click",this.cancelBtnClickHandler)}async unmount(){this.node?.querySelector(".main-card form")?.removeEventListener("submit",this.formSubmitHandler),this.signInBtn?.removeEventListener("click",this.signInBtnClickHandler),this.cancelBtn?.removeEventListener("click",this.cancelBtnClickHandler)}async load(e,l,i){this.titleElem&&(this.titleElem.textContent=n.tr("Sign Up")),this.nameInputElem&&(this.nameInputElem.placeholder=n.tr("Name")+"*"),this.nameLabelElem&&(this.nameLabelElem.textContent=n.tr("Name")+"*"),this.passwordInputElem&&(this.passwordInputElem.placeholder=n.tr("Password")+"*"),this.passwordLabelElem&&(this.passwordLabelElem.textContent=n.tr("Password")+"*"),this.photoLabelElem&&(this.photoLabelElem.textContent=n.tr("Photo")),this.signInBtn&&(this.signInBtn.textContent=n.tr("Sign In")),this.signUpBtn&&(this.signUpBtn.textContent=n.tr("Sign Up")),this.cancelBtn&&(this.cancelBtn.textContent=n.tr("Cancel")),this.signInBtn?.setAttribute("href",(e===r?"":`/${e}`)+"/sign-in"),this.cancelBtn?.setAttribute("href",(e===r?"":`/${e}`)+"/"),await this.authService?.load?.(e,l,i)}},u=o;a(u,"page",null);export{u as SignUpPage};
